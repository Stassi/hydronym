import { describe, expect, it } from '@jest/globals'
import schedule from './schedule.js'

describe('schedule', () => {
  describe.each([
    {
      key: 'Key',
      expected: [
        75, 51, 132, 157, 192, 200, 29, 168, 74, 243, 131, 228, 18, 112, 130,
        144, 91, 143, 236, 34, 41, 185, 204, 92, 191, 216, 186, 14, 110, 77, 8,
        35, 188, 27, 103, 137, 182, 64, 59, 105, 215, 247, 238, 126, 138, 26,
        227, 55, 21, 84, 104, 78, 135, 113, 255, 172, 56, 89, 187, 28, 62, 32,
        45, 65, 36, 251, 152, 116, 189, 7, 108, 46, 202, 162, 159, 83, 31, 154,
        11, 231, 106, 13, 0, 217, 20, 229, 102, 118, 82, 85, 176, 97, 214, 151,
        6, 4, 142, 245, 134, 60, 225, 165, 3, 39, 86, 101, 90, 127, 197, 72,
        117, 146, 47, 195, 42, 128, 100, 253, 174, 209, 25, 239, 114, 219, 244,
        234, 163, 190, 183, 235, 54, 98, 153, 121, 123, 38, 40, 180, 179, 139,
        203, 70, 5, 24, 43, 199, 224, 213, 210, 220, 173, 241, 23, 88, 196, 79,
        242, 58, 9, 73, 141, 160, 193, 181, 19, 233, 63, 80, 30, 81, 111, 226,
        175, 150, 207, 222, 17, 119, 230, 96, 71, 87, 133, 198, 95, 169, 155,
        212, 66, 49, 205, 2, 76, 115, 37, 194, 57, 22, 223, 178, 16, 12, 93,
        237, 240, 33, 206, 69, 53, 158, 148, 15, 122, 136, 161, 246, 201, 44,
        171, 67, 184, 109, 252, 50, 170, 145, 149, 140, 94, 218, 156, 208, 1,
        129, 68, 48, 254, 164, 250, 167, 248, 125, 177, 166, 232, 120, 107, 99,
        249, 221, 52, 124, 10, 211, 61, 147,
      ],
    },
    {
      key: 'Wiki',
      expected: [
        139, 55, 46, 222, 245, 99, 91, 194, 163, 21, 161, 254, 10, 20, 170, 200,
        210, 169, 181, 162, 231, 63, 41, 145, 239, 249, 246, 122, 237, 144, 252,
        132, 78, 195, 38, 158, 58, 167, 141, 137, 51, 197, 135, 238, 25, 64,
        216, 5, 67, 23, 140, 60, 81, 201, 130, 111, 101, 223, 211, 251, 3, 69,
        43, 183, 109, 57, 42, 62, 105, 199, 119, 191, 94, 230, 93, 204, 242,
        168, 196, 208, 27, 72, 186, 136, 121, 107, 39, 68, 235, 83, 31, 54, 185,
        9, 61, 40, 164, 126, 103, 92, 187, 232, 118, 179, 114, 218, 213, 24,
        176, 157, 47, 166, 192, 147, 227, 236, 74, 33, 35, 229, 75, 247, 11,
        100, 70, 203, 66, 86, 184, 19, 224, 205, 26, 112, 214, 198, 165, 96, 97,
        22, 102, 217, 98, 212, 115, 148, 174, 17, 148, 128, 2, 50, 175, 125,
        207, 159, 220, 225, 233, 104, 244, 253, 138, 243, 178, 52, 8, 76, 89,
        48, 153, 49, 172, 234, 44, 215, 202, 189, 151, 117, 79, 248, 53, 80,
        150, 190, 206, 241, 221, 177, 134, 182, 84, 1, 219, 45, 240, 12, 156,
        209, 188, 193, 30, 180, 85, 7, 129, 28, 250, 226, 6, 95, 124, 160, 73,
        0, 29, 116, 113, 142, 14, 37, 77, 154, 13, 143, 152, 127, 171, 155, 18,
        36, 146, 34, 108, 120, 149, 228, 87, 32, 16, 133, 65, 4, 88, 110, 15,
        59, 123, 82, 106, 131, 71, 56, 90, 173, 255,
      ],
    },
    {
      key: 'Secret',
      expected: [
        46, 181, 30, 147, 38, 63, 184, 113, 165, 32, 122, 14, 40, 91, 77, 195,
        11, 178, 214, 8, 24, 193, 2, 197, 125, 34, 18, 156, 163, 42, 26, 3, 221,
        25, 183, 79, 202, 177, 7, 124, 153, 250, 249, 129, 150, 246, 203, 80,
        198, 59, 254, 136, 236, 228, 110, 96, 62, 47, 85, 138, 200, 152, 84,
        117, 9, 95, 244, 49, 67, 199, 135, 6, 17, 118, 36, 224, 145, 204, 37,
        13, 185, 196, 123, 239, 128, 219, 243, 188, 167, 12, 116, 213, 70, 109,
        172, 234, 66, 253, 87, 151, 210, 74, 220, 240, 115, 245, 81, 51, 69, 48,
        194, 107, 146, 43, 182, 131, 144, 148, 164, 166, 232, 56, 65, 1, 31, 28,
        149, 44, 19, 58, 55, 230, 130, 72, 216, 82, 186, 211, 190, 174, 157, 27,
        23, 76, 212, 189, 161, 237, 209, 160, 97, 251, 29, 78, 104, 191, 159,
        86, 168, 162, 233, 64, 140, 68, 127, 170, 179, 226, 187, 10, 235, 134,
        207, 83, 222, 242, 0, 41, 52, 75, 231, 57, 192, 126, 206, 90, 21, 45,
        108, 158, 105, 248, 180, 94, 218, 5, 217, 227, 137, 98, 143, 154, 92,
        173, 73, 99, 241, 53, 176, 22, 120, 114, 141, 215, 103, 61, 111, 139,
        54, 15, 20, 106, 255, 101, 223, 100, 121, 50, 16, 33, 238, 201, 247,
        112, 132, 102, 60, 175, 4, 39, 142, 252, 208, 89, 225, 229, 71, 133, 88,
        119, 93, 171, 35, 205, 169, 155,
      ],
    },
  ])(
    'key: "$key"',
    ({ key, expected }: { key: string; expected: number[] }) => {
      it('should return a deterministic octet sequence', () => {
        expect([...schedule(key)]).toStrictEqual(expected)
      })
    }
  )
})
